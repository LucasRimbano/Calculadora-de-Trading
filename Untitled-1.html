<!-- filepath: investment-calculator/index.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Calculadora de Inversi贸n</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
  <div class="container">
    <h2> Calculadora de Inversi贸n</h2>

    <label for="entrada">Precio de entrada:</label>
    <input type="number" id="entrada" step="0.01">

    <label for="salida">Precio de salida:</label>
    <input type="number" id="salida" step="0.01">

    <label for="posicion">Posici贸n en d贸lares:</label>
    <input type="number" id="posicion" step="0.01">

    <button onclick="calcular()">Calcular</button>

    <div id="resultado"></div>
  </div>
<div class= "chart-wrapper">
   <h3> Gr谩fico de TradingView</h3>    
<div class="tradingview-widget-container">
  <div id="tradingview_12345"></div>
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  <script type="text/javascript">
    new TradingView.widget({
      "width": 600,
      "height": 400,
      "symbol": "NASDAQ:AAPL", // Cambia el s铆mbolo por el que quieras mostrar
      "interval": "D",
      "timezone": "Etc/UTC",
      "theme": "light",
      "style": "1",
      "locale": "es",
      "toolbar_bg": "#f1f3f6",
      "enable_publishing": false,
      "allow_symbol_change": true,
      "container_id": "tradingview_12345"
    });
  </script>
</div>

  <script>
    function calcular() {
      const entrada = parseFloat(document.getElementById("entrada").value);
      const salida = parseFloat(document.getElementById("salida").value);
      const posicion = parseFloat(document.getElementById("posicion").value);

      const unidades = posicion / entrada;
      const valorFinal = unidades * salida;
      const ganancia = valorFinal - posicion;
      const roi = (ganancia / posicion) * 100;

      const resultadoHTML = `
        <p> Unidades compradas: ${unidades.toFixed(2)}</p>
        <p> Valor final: $${valorFinal.toFixed(2)}</p>
        <p>${ganancia >= 0 ? "" : ""} Ganancia/P茅rdida: $${ganancia.toFixed(2)}</p>
        <p> ROI: ${roi.toFixed(2)}%</p>
      `;
      document.getElementById("resultado").innerHTML = resultadoHTML;
    }
  </script>
</body>
</html>